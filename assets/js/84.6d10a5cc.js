(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{400:function(t,e,a){"use strict";a.r(e);var v=a(25),c=Object(v.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#wx-createcanvascontext-canvasid-this"}},[t._v("wx.createCanvasContext(canvasId, this)")]),e("ul",[e("li",[e("a",{attrs:{href:"#ctx-save"}},[t._v("ctx.save()")])]),e("li",[e("a",{attrs:{href:"#ctx-restore"}},[t._v("ctx.restore()")])]),e("li",[e("a",{attrs:{href:"#grd-ctx-createlineargradient"}},[t._v("grd=ctx.createLinearGradient()")])]),e("li",[e("a",{attrs:{href:"#ctx-textalign-left-center-right"}},[t._v("ctx.textAlign='left | center |right'")])]),e("li",[e("a",{attrs:{href:"#ctx-textbaseline-top-bottom-middle-normal"}},[t._v("ctx.textBaseline='top | bottom | middle | normal';")])]),e("li",[e("a",{attrs:{href:"#ctx-font-normal-bold-26px-pingfangsc-regular"}},[t._v("ctx.font='normal bold 26px PingFangSC-Regular'")])]),e("li",[e("a",{attrs:{href:"#ctx-fillstyle-ffffff"}},[t._v("ctx.fillStyle='#ffffff';")])]),e("li",[e("a",{attrs:{href:"#ctx-filltext-text-x-y-maxwidth"}},[t._v("ctx.fillText(text，x，y，maxWidth)")])]),e("li",[e("a",{attrs:{href:"#ctx-fillrect-x-y-width-height"}},[t._v("ctx.fillRect(x，y，width，height)")])]),e("li",[e("a",{attrs:{href:"#ctx-arc-x-y-r-sangle-eangle-counterclockwise"}},[t._v("ctx.arc(x，y，r，sAngle，eAngle，counterclockwise)")])]),e("li",[e("a",{attrs:{href:"#ctx-fill"}},[t._v("ctx.fill();")])]),e("li",[e("a",{attrs:{href:"#ctx-drawimage-src-x-y-dwidth-dheight-sx-sy-swidth-sheight"}},[t._v("ctx.drawImage(src，x，y，dWidth，dHeight，sx，sy，sWidth，sHeight)")])]),e("li",[e("a",{attrs:{href:"#ctx-translate-x-y"}},[t._v("ctx.translate(x,y)")])]),e("li",[e("a",{attrs:{href:"#ctx-rotate-rotate"}},[t._v("ctx.rotate(rotate)")])]),e("li",[e("a",{attrs:{href:"#wx-canvastotempfilepath-obj-this"}},[t._v("wx.canvasToTempFilePath(obj, this)")])])])]),e("li",[e("a",{attrs:{href:"#注意事项"}},[t._v("注意事项：")])])])]),e("p"),t._v(" "),e("h1",{attrs:{id:"微信小程序之canvas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序之canvas"}},[t._v("#")]),t._v(" 微信小程序之canvas")]),t._v(" "),e("h2",{attrs:{id:"wx-createcanvascontext-canvasid-this"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wx-createcanvascontext-canvasid-this"}},[t._v("#")]),t._v(" wx.createCanvasContext(canvasId, this)")]),t._v(" "),e("blockquote",[e("p",[t._v("用来创建画布。作为组件调用时，第二个参数为组件实例的"),e("code",[t._v("this")]),t._v(";")]),t._v(" "),e("p",[t._v("创建成功之后就相当于调用了一次 "),e("code",[t._v("beginPath()")]),t._v(";")])]),t._v(" "),e("h3",{attrs:{id:"ctx-save"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-save"}},[t._v("#")]),t._v(" ctx.save()")]),t._v(" "),e("blockquote",[e("p",[t._v("保存"),e("code",[t._v("save")]),t._v("之前的绘图的上下文状态；")])]),t._v(" "),e("h3",{attrs:{id:"ctx-restore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-restore"}},[t._v("#")]),t._v(" ctx.restore()")]),t._v(" "),e("blockquote",[e("p",[t._v("恢复之前保存的绘图上下文（比如之前的颜色，缩放大小等，恢复了之后"),e("code",[t._v("save")]),t._v("保存的状态就没了）")])]),t._v(" "),e("h3",{attrs:{id:"grd-ctx-createlineargradient"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#grd-ctx-createlineargradient"}},[t._v("#")]),t._v(" grd=ctx.createLinearGradient()")]),t._v(" "),e("blockquote",[e("p",[t._v("参数："),e("code",[t._v("x0,y0,x1,y1")]),t._v("（\t起点的"),e("code",[t._v("X")]),t._v("坐标，起始的"),e("code",[t._v("Y")]),t._v("坐标，终点的"),e("code",[t._v("X")]),t._v("坐标，终点的"),e("code",[t._v("Y")]),t._v("坐标）")]),t._v(" "),e("p",[t._v("创建一个线性渐变的颜色，需要使用"),e("code",[t._v("addColorStop()")]),t._v("来指定渐变点，至少要两个。")])]),t._v(" "),e("h3",{attrs:{id:"ctx-textalign-left-center-right"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-textalign-left-center-right"}},[t._v("#")]),t._v(" ctx.textAlign='left | center |right'")]),t._v(" "),e("blockquote",[e("p",[t._v("设置文字基于"),e("code",[t._v("x")]),t._v("坐标的水平对齐方(把"),e("code",[t._v("X")]),t._v("坐标当做左侧 | 把"),e("code",[t._v("X")]),t._v("坐标当做中间  | 把"),e("code",[t._v("X")]),t._v("坐标当做右侧)")])]),t._v(" "),e("h3",{attrs:{id:"ctx-textbaseline-top-bottom-middle-normal"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-textbaseline-top-bottom-middle-normal"}},[t._v("#")]),t._v(" ctx.textBaseline='top | bottom | middle | normal';")]),t._v(" "),e("blockquote",[e("p",[t._v("设置文字基于Y坐标的垂直对齐方式（把"),e("code",[t._v("Y")]),t._v("坐标当做顶部 | 把"),e("code",[t._v("Y")]),t._v("坐标当做底部 | 把"),e("code",[t._v("Y")]),t._v("坐标当做中间 | 底部紧贴"),e("code",[t._v("Y")]),t._v("坐标 ）")])]),t._v(" "),e("h3",{attrs:{id:"ctx-font-normal-bold-26px-pingfangsc-regular"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-font-normal-bold-26px-pingfangsc-regular"}},[t._v("#")]),t._v(" ctx.font='normal bold 26px PingFangSC-Regular'")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("设置当前字体样式的属性")]),t._v(" "),e("ul",[e("li",[t._v("字体样式：仅支持"),e("code",[t._v("italic, oblique, normal")])]),t._v(" "),e("li",[t._v("字体粗细：仅支持 "),e("code",[t._v("normal, bold")])]),t._v(" "),e("li",[t._v("字体大小(单位"),e("code",[t._v("PX")]),t._v(")")]),t._v(" "),e("li",[t._v("字体族名。注意确认各平台所支持的字体")])])]),t._v(" "),e("h3",{attrs:{id:"ctx-fillstyle-ffffff"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-fillstyle-ffffff"}},[t._v("#")]),t._v(" ctx.fillStyle='#ffffff';")]),t._v(" "),e("blockquote",[e("p",[t._v("设置填充色（默认为"),e("code",[t._v("black")]),t._v("）")])]),t._v(" "),e("h3",{attrs:{id:"ctx-filltext-text-x-y-maxwidth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-filltext-text-x-y-maxwidth"}},[t._v("#")]),t._v(" ctx.fillText(text，x，y，maxWidth)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("在画布上绘制被填充的文本。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("text")]),t._v("：要绘制的文字")]),t._v(" "),e("li",[e("code",[t._v("x")]),t._v("：绘制文本的左上角x坐标位置")]),t._v(" "),e("li",[e("code",[t._v("y")]),t._v("：绘制文本的左上角y坐标位置")]),t._v(" "),e("li",[e("code",[t._v("maxWidth")]),t._v("：需要绘制的最大宽度，可选")])])]),t._v(" "),e("h3",{attrs:{id:"ctx-fillrect-x-y-width-height"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-fillrect-x-y-width-height"}},[t._v("#")]),t._v(" ctx.fillRect(x，y，width，height)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("绘制填充一个矩形")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("x")]),t._v("：矩形路径左上角的"),e("code",[t._v("x")]),t._v("坐标")]),t._v(" "),e("li",[e("code",[t._v("y")]),t._v("：矩形路径左上角的"),e("code",[t._v("y")]),t._v("坐标")]),t._v(" "),e("li",[e("code",[t._v("width")]),t._v("：矩形路径的宽度")]),t._v(" "),e("li",[e("code",[t._v("height")]),t._v("：矩形路径的高度")])])]),t._v(" "),e("h3",{attrs:{id:"ctx-arc-x-y-r-sangle-eangle-counterclockwise"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-arc-x-y-r-sangle-eangle-counterclockwise"}},[t._v("#")]),t._v(" ctx.arc(x，y，r，sAngle，eAngle，counterclockwise)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("绘制圆形，调用"),e("code",[t._v("arc")]),t._v("之前最好先调下"),e("code",[t._v("beginPath")]),t._v("，调用后最好调用下 "),e("code",[t._v("closePath")]),t._v("闭合一下路径，不然会和下次画的圆连在一起")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("x")]),t._v("：圆心横坐标")]),t._v(" "),e("li",[e("code",[t._v("y")]),t._v("：圆心纵坐标")]),t._v(" "),e("li",[e("code",[t._v("r")]),t._v("：圆的半径")]),t._v(" "),e("li",[e("code",[t._v("sAngle")]),t._v("：起始弧度，单位弧度（在3点钟方向）")]),t._v(" "),e("li",[e("code",[t._v("eAngle")]),t._v("：终止弧度")]),t._v(" "),e("li",[e("code",[t._v("counterclockwise")]),t._v("：可选，指定弧度方向（默认"),e("code",[t._v("false")]),t._v("，顺时针）")])])]),t._v(" "),e("h3",{attrs:{id:"ctx-fill"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-fill"}},[t._v("#")]),t._v(" ctx.fill();")]),t._v(" "),e("blockquote",[e("p",[t._v("对当前路径中的内容进行填充。默认的填充色为黑色。")]),t._v(" "),e("p",[t._v("如果当前路径没有闭合，"),e("code",[t._v("fill()")]),t._v(" 方法会将起点和终点进行连接，然后填充，")])]),t._v(" "),e("h3",{attrs:{id:"ctx-drawimage-src-x-y-dwidth-dheight-sx-sy-swidth-sheight"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-drawimage-src-x-y-dwidth-dheight-sx-sy-swidth-sheight"}},[t._v("#")]),t._v(" ctx.drawImage(src，x，y，dWidth，dHeight，sx，sy，sWidth，sHeight)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("绘制图像到画布。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("src")]),t._v("：所要绘制的图片资源")]),t._v(" "),e("li",[e("code",[t._v("x")]),t._v("：图像的左上角在目标"),e("code",[t._v("canvas")]),t._v("上 "),e("code",[t._v("X")]),t._v(" 轴的位置")]),t._v(" "),e("li",[e("code",[t._v("y")]),t._v("：图像的左上角在目标"),e("code",[t._v("canvas")]),t._v("上 "),e("code",[t._v("Y")]),t._v(" 轴的位置")]),t._v(" "),e("li",[e("code",[t._v("dWidth")]),t._v("：在目标画布上绘制图像的宽度，允许对绘制的图像进行缩放")]),t._v(" "),e("li",[e("code",[t._v("dHeight")]),t._v("：\t在目标画布上绘制图像的高度，允许对绘制的图像进行缩放")]),t._v(" "),e("li",[e("code",[t._v("sx")]),t._v("：源图像的矩形选择框的左上角 "),e("code",[t._v("X")]),t._v(" 坐标")]),t._v(" "),e("li",[e("code",[t._v("sy")]),t._v("：源图像的矩形选择框的左上角"),e("code",[t._v("Y")]),t._v(" 坐标")]),t._v(" "),e("li",[e("code",[t._v("sWidth")]),t._v("：\t源图像的矩形选择框的宽度")]),t._v(" "),e("li",[e("code",[t._v("sHeight")]),t._v("：\t源图像的矩形选择框的高度")])])]),t._v(" "),e("h3",{attrs:{id:"ctx-translate-x-y"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-translate-x-y"}},[t._v("#")]),t._v(" ctx.translate(x,y)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("对当前坐标系的原点"),e("code",[t._v("(0, 0)")]),t._v("进行变换，默认的坐标系原点为页面左上角。（使用之前一定要"),e("code",[t._v("save")]),t._v("一下）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("x")]),t._v("：水平坐标平移量")]),t._v(" "),e("li",[e("code",[t._v("y")]),t._v("：竖直坐标平移量")])])]),t._v(" "),e("h3",{attrs:{id:"ctx-rotate-rotate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ctx-rotate-rotate"}},[t._v("#")]),t._v(" ctx.rotate(rotate)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("以原点为中心，原点可以用 "),e("code",[t._v("translate")]),t._v("方法修改。顺时针旋转当前坐标轴。多次调用"),e("code",[t._v("rotate")]),t._v("，旋转的角度会叠加。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("rotate")]),t._v("：旋转角度，以弧度计("),e("code",[t._v("degrees * Math.PI/180")]),t._v("；"),e("code",[t._v("degrees")]),t._v("范围为"),e("code",[t._v("0~360")]),t._v(")")])])]),t._v(" "),e("h3",{attrs:{id:"wx-canvastotempfilepath-obj-this"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wx-canvastotempfilepath-obj-this"}},[t._v("#")]),t._v(" wx.canvasToTempFilePath(obj, this)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("把当前画布指定区域的内容导出生成指定大小的图片，并返回文件路径。在自定义组件下，第二个参数传入组件实例"),e("code",[t._v("this")]),t._v("，以操作组件内 "),e("code",[t._v("<canvas/>")]),t._v(" 组件")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("x")]),t._v("：画布"),e("code",[t._v("x")]),t._v("轴起点（默认0）")]),t._v(" "),e("li",[e("code",[t._v("y")]),t._v("：画布"),e("code",[t._v("y")]),t._v("轴起点（默认0）")]),t._v(" "),e("li",[e("code",[t._v("width")]),t._v("：画布宽度（默认为"),e("code",[t._v("canvas")]),t._v("宽度-x）")]),t._v(" "),e("li",[e("code",[t._v("height")]),t._v("：画布高度（默认为canvas高度-y）")]),t._v(" "),e("li",[e("code",[t._v("canvasId")]),t._v("：画布标识，传入 "),e("code",[t._v("<canvas/>")]),t._v(" 的 "),e("code",[t._v("canvas-id")])]),t._v(" "),e("li",[e("code",[t._v("success")]),t._v("：\t接口调用成功的回调函数")]),t._v(" "),e("li",[e("code",[t._v("fail")]),t._v("：接口调用失败的回调函数")])])]),t._v(" "),e("h2",{attrs:{id:"注意事项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项：")]),t._v(" "),e("blockquote",[e("p",[t._v("1、所有图片绘制完成之后才能"),e("code",[t._v("ctx.draw()")]),t._v(";")]),t._v(" "),e("p",[t._v("圆型图片绘制"),e("code",[t._v("clip")]),t._v("前要先"),e("code",[t._v("beginPath")]),t._v("，而且必须是在背景图已经绘制完成的回调函数中进行")])])])}),[],!1,null,null,null);e.default=c.exports}}]);