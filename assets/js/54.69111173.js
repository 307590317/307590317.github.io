(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{371:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#settimeout-fn-interval"}},[t._v("setTimeout(fn,interval)")])]),s("li",[s("a",{attrs:{href:"#setinterval-fn-interval"}},[t._v("setInterval(fn,interval)")]),s("ul",[s("li",[s("a",{attrs:{href:"#两个定时器的区别"}},[t._v("两个定时器的区别")])])])]),s("li",[s("a",{attrs:{href:"#setinterval不准的问题"}},[t._v("setInterval不准的问题")])]),s("li",[s("a",{attrs:{href:"#为什么我们要手动清除定时器"}},[t._v("为什么我们要手动清除定时器?")])]),s("li",[s("a",{attrs:{href:"#定时器中的this问题"}},[t._v("定时器中的this问题")])]),s("li",[s("a",{attrs:{href:"#同步编程和异步编程"}},[t._v("同步编程和异步编程")]),s("ul",[s("li",[s("a",{attrs:{href:"#同步编程"}},[t._v("同步编程")])]),s("li",[s("a",{attrs:{href:"#异步编程"}},[t._v("异步编程")])]),s("li",[s("a",{attrs:{href:"#js中的异步编程"}},[t._v("JS中的异步编程")])]),s("li",[s("a",{attrs:{href:"#同步异步编程的核心原理"}},[t._v("同步异步编程的核心原理")])])])]),s("li",[s("a",{attrs:{href:"#js中动画实现的原理"}},[t._v("JS中动画实现的原理")]),s("ul",[s("li",[s("a",{attrs:{href:"#css3动画"}},[t._v("CSS3动画")])]),s("li",[s("a",{attrs:{href:"#javascript动画"}},[t._v("JavaScript动画")])]),s("li",[s("a",{attrs:{href:"#flash动画"}},[t._v("Flash动画")])]),s("li",[s("a",{attrs:{href:"#js中基于定时器的动画运动的两种形式"}},[t._v("JS中基于定时器的动画运动的两种形式")])])])]),s("li",[s("a",{attrs:{href:"#时间消耗测试"}},[t._v("时间消耗测试")])])])]),s("p"),t._v(" "),s("h1",{attrs:{id:"_18、js中的定时器与异步编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_18、js中的定时器与异步编程"}},[t._v("#")]),t._v(" 18、Js中的定时器与异步编程")]),t._v(" "),s("h2",{attrs:{id:"settimeout-fn-interval"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#settimeout-fn-interval"}},[t._v("#")]),t._v(" setTimeout(fn,interval)")]),t._v(" "),s("blockquote",[s("p",[t._v("设定一个定时器，到达指定时间之后执行对应的方法（执行一次就结束了）。")])]),t._v(" "),s("h2",{attrs:{id:"setinterval-fn-interval"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setinterval-fn-interval"}},[t._v("#")]),t._v(" setInterval(fn,interval)")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("setInterval")]),t._v(" "),s("p",[t._v("设置一个定时器，每间隔多少时间执行一次"),s("code",[t._v("fn")]),t._v("，直到定时器清除为止（执行很多次）")]),t._v(" "),s("p",[s("code",[t._v("interval")]),t._v(":代表的是每隔多久就重新执行一次回调函数，"),s("code",[t._v("fn")]),t._v("执行的时间也计算在内了，如果"),s("code",[t._v("fn")]),t._v("执行时间超过了"),s("code",[t._v("interval")]),t._v("，那么下一次"),s("code",[t._v("fn")]),t._v("会在本次"),s("code",[t._v("fn")]),t._v("执行完成之后再执行。")])]),t._v(" "),s("h3",{attrs:{id:"两个定时器的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#两个定时器的区别"}},[t._v("#")]),t._v(" 两个定时器的区别")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[s("em",[t._v("共同点")]),t._v("：\n设置定时器时都会有一个返回值，代表当前是在浏览器中设置的第几个定时器（返回的是定时器的序号，不管是setTimeout还是setInterval，）只要遇到这两个其中一个，就算一个新的定时器，定时器的序号就会加1，即使清除了设置的定时器，也不会重新计算序号。")]),t._v(" "),s("p",[s("em",[t._v("不同点")]),t._v("：\nsetTimeout是隔一段时间之后执行一次函数\nsetInterval是每隔一段时间之后都执行一次函数；")]),t._v(" "),s("p",[s("em",[t._v("清除定时器")]),t._v(":\n用clearTimeout来清除setTimeout设置的定时器，传入的参数为定时器的序号\n用clearInterval来清除setInterval设置的定时器，传入的参数为定时器的序号；")])]),t._v(" "),s("h2",{attrs:{id:"setinterval不准的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setinterval不准的问题"}},[t._v("#")]),t._v(" setInterval不准的问题")]),t._v(" "),s("blockquote",[s("p",[t._v("由于"),s("code",[t._v("setInterval")]),t._v("是把回调函数的执行时间计算在"),s("code",[t._v("interval")]),t._v("内的，如果回调函数的执行时间过长，超出的了"),s("code",[t._v("interval")]),t._v("时，就会出现间隔时间不准的问题。只能用"),s("code",[t._v("setTimeout")]),t._v("来模拟"),s("code",[t._v("setInterval")])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mySetInterval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("inner")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("delay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 写在这里表示函数的执行时间计算在 delay 内了，两次函数执行的间隔为 delay")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setTimeout(inner,delay) 如果想要在执行间隔从上次函数执行结束算起，就写在这里")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("delay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"为什么我们要手动清除定时器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么我们要手动清除定时器"}},[t._v("#")]),t._v(" 为什么我们要手动清除定时器?")]),t._v(" "),s("blockquote",[s("p",[t._v("定时器也是一个函数，函数执行完成后，返回了一个基本数据类型值（定时器的序列号）。没有产生堆内存的话就会在空闲时间被销毁掉，但是为什么setTimeout不会自动销毁？")]),t._v(" "),s("p",[t._v("因为当创建一个定时器的时候，浏览器会同时开启一个监听者，当setTimeout执行完成后，监听者始终知道这个定时器的地址，所以不能销毁，我们要手动去清除定时器。我们手动清除的时候其实就是在切断定时器和监听者之间的联系；这样定时器就会被销毁掉；")])]),t._v(" "),s("h2",{attrs:{id:"定时器中的this问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定时器中的this问题"}},[t._v("#")]),t._v(" 定时器中的this问题")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不管在哪执行，定时器函数中的this是window；")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//this:obj")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=>this:window 不管在哪执行，定时器中的this是window")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=>想让定时器函数中的this是obj,使用bind方法改变为obj")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=>this:obj")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//也可以用变量保存的方式来改变this")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _this"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=>_this:obj")]),t._v("\n\t\t\t_this"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=>this:obj 箭头函数中的this继承宿主环境(上级作用域中)的this")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"同步编程和异步编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同步编程和异步编程"}},[t._v("#")]),t._v(" 同步编程和异步编程")]),t._v(" "),s("blockquote",[s("p",[t._v("JS是单线程的，当前的任务没有完成，下面的任务是不进行处理的（同步的）")])]),t._v(" "),s("h3",{attrs:{id:"同步编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同步编程"}},[t._v("#")]),t._v(" 同步编程")]),t._v(" "),s("blockquote",[s("p",[t._v("当前的事情没有完成，继续处理当前的事情，只有当前的事件完成了，才会去做下一件事情。（JS中大部分都是同步编程的）如for循环")])]),t._v(" "),s("h3",{attrs:{id:"异步编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异步编程"}},[t._v("#")]),t._v(" 异步编程")]),t._v(" "),s("blockquote",[s("p",[t._v("规划一件事情，但不是当前马上去执行这件事，需要一定时间之后再执行，不会等到时间到了，任务执行完了，才继续完成下面的任务。而是把它放到等待任务队列中，同时开始计算等待时间，继续执行主任务队列中的任务，只有主任务队列中的任务都完成了，再到等待任务队列当中，看哪个先到时间了，就先执行哪个。如果主任务队列中的任务没完成，不会去执行等待任务队列当中的任务；")])]),t._v(" "),s("h3",{attrs:{id:"js中的异步编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js中的异步编程"}},[t._v("#")]),t._v(" JS中的异步编程")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("在JS中的异步编程只有四种：")]),t._v(" "),s("ul",[s("li",[t._v("1、定时器都是异步编程的")]),t._v(" "),s("li",[t._v("2、所有的事件绑定都是异步编程、")]),t._v(" "),s("li",[t._v("3、Ajax读取数据的时候，我们一般都设置为异步编程")]),t._v(" "),s("li",[t._v("4、回调函数也是异步编程")])]),t._v(" "),s("p",[t._v("定时器是有最小等待时间的，即使设置为0也不会马上执行，等待时间短的先执行；")])]),t._v(" "),s("h3",{attrs:{id:"同步异步编程的核心原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同步异步编程的核心原理"}},[t._v("#")]),t._v(" 同步异步编程的核心原理")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("JS中有两个任务队列（存放任务列表的空间就是任务队列）")]),t._v(" "),s("ul",[s("li",[t._v("1、主任务队列：同步执行任务；(从上到下执行)")]),t._v(" "),s("li",[t._v("2、等待任务队列：存放异步的任务；")])]),t._v(" "),s("p",[s("em",[t._v("原理")]),t._v("：规划一件事情，但不是当前马上去执行这件事，需要一定时间之后再执行，不会等到时间到了，规划的任务执行完了，才继续完成下面的任务。而是把它放到等待任务队列中，开始计时，继续执行下面的操作，只有主任务队列中的任务都完成了，再到等待任务队列当中，看哪个先到时间了，就先执行哪个，如果都到时间了，那么就看哪个等待的时间短，就先执行哪一个。如果主任务队列中的任务没完成，不会去执行等待任务队列当中的任务；")])]),t._v(" "),s("h2",{attrs:{id:"js中动画实现的原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js中动画实现的原理"}},[t._v("#")]),t._v(" JS中动画实现的原理")]),t._v(" "),s("h3",{attrs:{id:"css3动画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css3动画"}},[t._v("#")]),t._v(" CSS3动画")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("在CSS3中提供了transition（过渡动画）/animation（帧动画）\n"),s("em",[t._v("优势：")]),t._v("\n性能好，实现起来简单，CSS能解决的动画绝对不用其他方式。\n"),s("em",[t._v("弊端：")]),t._v("\n不兼容大部分IE或者其他低版本浏览器（移动端的动画一般都是基于CSS3来完成的）")])]),t._v(" "),s("h3",{attrs:{id:"javascript动画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascript动画"}},[t._v("#")]),t._v(" JavaScript动画")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("在JS中实现动画常用的有：")]),t._v(" "),s("p",[t._v("1、使用定时器驱动动画，\n2、使用requestAnimationFrame来完成的动画\n而所谓的canvas动画基本上也是基于这两种方案完成的（canvas本身是绘图）")])]),t._v(" "),s("h3",{attrs:{id:"flash动画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flash动画"}},[t._v("#")]),t._v(" Flash动画")]),t._v(" "),s("blockquote",[s("p",[t._v("非常早的动画处理方案，想要实现动画，需要把这部分制作成Flash影片，然后用Adobe Flash Player插件来播放；现在一些简单的DOM动画都告别了flash的时代，影片的播放也可以基于H5中的audio或者video完成；")])]),t._v(" "),s("h3",{attrs:{id:"js中基于定时器的动画运动的两种形式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js中基于定时器的动画运动的两种形式"}},[t._v("#")]),t._v(" JS中基于定时器的动画运动的两种形式")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("1、限定步长，不限制运动时间；\n2、限定运动的总时间，不限制每一步走的长度；\n公式：")]),t._v(" "),s("ul",[s("li",[t._v("time为定时器走一次的时间，zTime为运动总的时间")]),t._v(" "),s("li",[t._v("元素当前所在位置=（time/zTime*总路程+起始位置）")])])]),t._v(" "),s("h2",{attrs:{id:"时间消耗测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时间消耗测试"}},[t._v("#")]),t._v(" 时间消耗测试")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1、此方法只能测试运算时间在1毫秒以上的，")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" startTime"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要测试消耗时间的代码")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("startTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2、此方法可以测试运算时间在1毫秒以下的")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要测试消耗时间的代码")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeEnd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);